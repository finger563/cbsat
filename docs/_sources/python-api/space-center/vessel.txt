Vessel
======

.. class:: Vessel

   These objects are used to interact with vessels in KSP. This includes getting
   orbital and flight data, manipulating control inputs and managing resources.

   .. attribute:: name

      Gets or sets the name of the vessel.

      :type: string

   .. attribute:: type

      Gets or sets the type of the vessel.

      :type: :class:`VesselType`

   .. attribute:: situation

      Gets the situation the vessel is in.

      :type: :class:`VesselSituation`

   .. attribute:: met

      Gets the mission elapsed time in seconds.

      :rtype: double

   .. method:: flight ([reference_frame=Vessel.surface_reference_frame])

      Gets a :class:`Flight` object that can be used to get flight telemetry for
      the vessel, in the specified reference frame.

      :param ReferenceFrame reference_frame: Defaults to the surface reference frame
                                            of the vessel.
      :rtype: :class:`Flight`

   .. attribute:: target

      Gets or sets the target vessel. Returns ``None`` if there is no target. When
      setting the target, the target cannot be the current vessel.

      :type: :class:`Vessel`

   .. attribute:: orbit

      Gets the current orbit of the vessel.

      :rtype: :class:`Orbit`

   .. attribute:: control

      Gets a :class:`Control` object that can be used to manipulate the vessel's
      control inputs. For example, its pitch/yaw/roll controls, RCS and thrust.

      :rtype: :class:`Control`

   .. attribute:: auto_pilot

      Gets an :class:`AutoPilot` object, that can be used to perform simple
      auto-piloting of the vessel.

      :rtype: :class:`AutoPilot`

   .. attribute:: resources

      Gets a :class:`Resources` object, that can used to get information about
      resources stored in the vessel.

   .. method:: resources_in_decouple_stage (stage, [cumulative=true])

      Gets a :class:`Resources` object, that can used to get information about
      resources stored in a given *stage*.

      :param int stage: Get resources for parts that are decoupled in this
                          stage. For details on stage numbering, see the
                          discussion on :ref:`api-parts-staging`.
      :param bool cumulative: When ``False``, returns the resources for parts
                              decoupled in just the given stage. When ``True``
                              returns the resources decoupled in the given stage
                              and all subsequent stages combined.
      :rtype: :class:`Resources`

   .. attribute:: parts

      Gets a :class:`Parts` object, that can used to interact with the parts
      that make up this vessel.

      :rtype: :class:`Parts`

   .. attribute:: comms

      Gets a :class:`Comms` object, that can used to interact with `RemoteTech`_
      for this vessel.

      :rtype: :class:`Comms`

      .. note:: Requires `RemoteTech`_ to be installed.

   .. attribute:: mass

      Gets the total mass of the vessel (including resources) in kg.

      :rtype: float

   .. attribute:: dry_mass

      Gets the total mass of the vessel (excluding resources) in kg.

      :rtype: float

   .. attribute:: thrust

      Gets the total thrust currently being produced by the vessel's engines, in
      Newtons. This is computed by summing :attr:`Engine.thrust` for every
      engine in the vessel.

      :rtype: float

   .. attribute:: available_thrust

      Gets the total available thrust that can be produced by the vessel's
      active engines, in Newtons. This is computed by summing
      :attr:`Engine.available_thrust` for every active engine in the vessel.

      :rtype: float

   .. attribute:: max_thrust

      Gets the total maximum thrust that can be produced by the vessel's active
      engines, in Newtons. This is computed by summing :attr:`Engine.max_thrust`
      for every active engine.

      :rtype: float

   .. attribute:: max_vacuum_thrust

      Gets the total maximum thrust that can be produced by the vessel's active
      engines when the vessel is in a vacuum, in Newtons. This is computed by
      summing :attr:`Engine.max_vacuum_thrust` for every active engine.

      :rtype: float

   .. attribute:: specific_impulse

      Gets the combined specific impulse of all active engines, in seconds. This
      is computed using the formula `described here
      <http://wiki.kerbalspaceprogram.com/wiki/Specific_impulse#Multiple_engines>`_.

      :rtype: float

   .. attribute:: vacuum_specific_impulse

      Gets the combined vacuum specific impulse of all active engines, in
      seconds. This is computed using the formula `described here
      <http://wiki.kerbalspaceprogram.com/wiki/Specific_impulse#Multiple_engines>`_.

      :rtype: float

   .. attribute:: kerbin_sea_level_specific_impulse

      Gets the combined specific impulse of all active engines at sea level on
      Kerbin, in seconds. This is computed using the formula `described here
      <http://wiki.kerbalspaceprogram.com/wiki/Specific_impulse#Multiple_engines>`_.

      :rtype: float

   .. attribute:: reference_frame

      Gets the reference frame that is fixed relative to the vessel, and orientated
      with the vessel.

      * The origin is at the center of mass of the vessel.

      * The axes rotate with the vessel.

      * The x-axis points out to the right of the vessel.

      * The y-axis points in the forward direction of the vessel.

      * The z-axis points out of the bottom off the vessel.

      :rtype: :class:`ReferenceFrame`

      .. figure:: /images/reference-frames/vessel-aircraft.png
         :align: center

         Vessel reference frame origin and axes for the Aeris 3A aircraft

      .. figure:: /images/reference-frames/vessel-rocket.png
         :align: center

         Vessel reference frame origin and axes for the Kerbal-X rocket

   .. attribute:: orbital_reference_frame

      Gets the reference frame that is fixed relative to the vessel, and orientated
      with the vessels orbital prograde/normal/radial directions.

      * The origin is at the center of mass of the vessel.

      * The axes rotate with the orbital prograde/normal/radial directions.

      * The x-axis points in the orbital anti-radial direction.

      * The y-axis points in the orbital prograde direction.

      * The z-axis points in the orbital normal direction.

      :rtype: :class:`ReferenceFrame`

      .. note:: Be careful not to confuse this with 'orbit' mode on the navball.

      .. figure:: /images/reference-frames/vessel-orbital.png
         :align: center

         Vessel orbital reference frame origin and axes

   .. attribute:: surface_reference_frame

      Gets the reference frame that is fixed relative to the vessel, and orientated
      with the surface of the body being orbited.

      * The origin is at the center of mass of the vessel.

      * The axes rotate with the north and up directions on the surface of the
        body.

      * The x-axis points in the `zenith <http://en.wikipedia.org/wiki/Zenith>`_
        direction (upwards, normal to the body being orbited, from the center of
        the body towards the center of mass of the vessel).

      * The y-axis points northwards towards the `astronomical horizon
        <http://en.wikipedia.org/wiki/Horizon>`_ (north, and tangential to the
        surface of the body -- the direction in which a compass would point when
        on the surface).

      * The z-axis points eastwards towards the `astronomical horizon
        <http://en.wikipedia.org/wiki/Horizon>`_ (east, and tangential to the
        surface of the body -- east on a compass when on the surface).

      :rtype: :class:`ReferenceFrame`

      .. note:: Be careful not to confuse this with 'surface' mode on the navball.

      .. figure:: /images/reference-frames/vessel-surface.png
         :align: center

         Vessel surface reference frame origin and axes

   .. attribute:: surface_velocity_reference_frame

      Gets the reference frame that is fixed relative to the vessel, and orientated
      with the velocity vector of the vessel relative to the surface of the body
      being orbited.

      * The origin is at the center of mass of the vessel.

      * The axes rotate with the vessel's velocity vector.

      * The y-axis points in the direction of the vessel's velocity vector,
        relative to the surface of the body being orbited.

      * The z-axis is in the plane of the `astronomical horizon
        <http://en.wikipedia.org/wiki/Horizon>`_.

      * The x-axis is orthogonal to the other two axes.

      :rtype: :class:`ReferenceFrame`

      .. figure:: /images/reference-frames/vessel-surface-velocity.png
         :align: center

         Vessel surface velocity reference frame origin and axes

   .. method:: position (reference_frame)

      Returns the position vector of the center of mass of the vessel in the given
      reference frame.

      :param ReferenceFrame reference_frame:
      :rtype: :class:`Vector3`

   .. method:: velocity (reference_frame)

      Returns the velocity vector of the center of mass of the vessel in the given
      reference frame.

      :param ReferenceFrame reference_frame:
      :rtype: :class:`Vector3`

   .. method:: rotation (reference_frame)

      Returns the rotation of the center of mass of the vessel in the given
      reference frame.

      :param ReferenceFrame reference_frame:
      :rtype: :class:`Quaternion`

   .. method:: direction (reference_frame)

      Returns the direction in which the vessel is pointing, as a unit vector, in
      the given reference frame.

      :param ReferenceFrame reference_frame:
      :rtype: :class:`Vector3`

   .. method:: angular_velocity (reference_frame)

      Returns the angular velocity of the vessel in the given reference frame. The
      magnitude of the returned vector is the rotational speed in radians per
      second, and the direction of the vector indicates the axis of rotation (using
      the right hand rule).

      :param ReferenceFrame reference_frame:
      :rtype: :class:`Vector3`

.. class:: VesselType

   .. data:: ship

   .. data:: station

   .. data:: lander

   .. data:: probe

   .. data:: rover

   .. data:: base

   .. data:: debris

.. class:: VesselSituation

   .. data:: docked

   .. data:: escaping

   .. data:: flying

   .. data:: landed

   .. data:: orbiting

   .. data:: pre_launch

   .. data:: splashed

   .. data:: sub_orbital

.. _Ferram Aerospace Research: http://forum.kerbalspaceprogram.com/threads/20451-0-90-Ferram-Aerospace-Research-v0-14-6-12-27-14
.. _RemoteTech: http://forum.kerbalspaceprogram.com/threads/83305-0-90-0-RemoteTech-v1-6-3-2015-02-06
.. _KSPs stock aerodynamic model: http://wiki.kerbalspaceprogram.com/wiki/Atmosphere
